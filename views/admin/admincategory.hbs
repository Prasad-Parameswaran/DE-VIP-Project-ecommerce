

            <!-- PAGE INNER
            ================================================== -->
            <div class="page-inner">

                <!-- PAGE MAIN WRAPPER
                ================================================== -->
                <div id="main-wrapper">
                    <!-- row -->
                    <div class="row align-items-center grid-margin">
                        <div class="col-12">
                            <div class="card card-white">
                                <div class="card-body row align-items-center">
                                    <div class="col-12 col-sm">
                                        <h4 class="mb-4 mb-sm-0 text-center text-sm-start">Category</h4>
                                    </div>

                                    <div class="col-12 col-sm-auto">
                                       <a href="/admin/addCategory"> <button class="btn btn-warning">Add category</button></a>
                                                                      <div class="col-auto my-1 my-md-0">

                           <form method="post" action="/admin/cateSearch">
                    <label for="search">Search:</label>
                    <input type="search" id="search" name="q" placeholder="Search Category">
                                <button type="submit" class="btn btn-danger">search</button>

                </form>
                    
                    </div>
                                        {{!-- <div class="row justify-content-center">

                                            <div class="col-auto my-1 my-md-0">
                                                <label class="m-0">Show:</label>
                                                <select class="w-auto d-inline-block form-select">
                                                    <option value="#?limit=24" selected="selected">24</option>
                                                    <option value="#?limit=25">25</option>
                                                    <option value="#?limit=50">50</option>
                                                    <option value="#?limit=75">75</option>
                                                    <option value="#?limit=100">100</option>
                                                </select>
                                            </div>

                                            <div class="col-auto my-1 my-md-0">
                                                <label class="m-0">Sort By:</label>
                                                <select class="w-auto d-inline-block form-select">
                                                    <option value="#?sort=p.sort_order&amp;order=ASC">Default</option>
                                                    <option value="#?sort=pd.name&amp;order=ASC">Name (A - Z)</option>
                                                    <option value="#?sort=pd.name&amp;order=DESC">Name (Z - A)</option>
                                                    <option value="#?sort=p.price&amp;order=ASC" selected="">Price (Low &gt; High)</option>
                                                    <option value="#?sort=p.price&amp;order=DESC">Price (High &gt; Low)</option>
                                                    <option value="#?sort=rating&amp;order=DESC">Rating (Highest)</option>
                                                    <option value="#?sort=rating&amp;order=ASC">Rating (Lowest)</option>
                                                    <option value="#?sort=p.model&amp;order=ASC">Model (A - Z)</option>
                                                    <option value="#?sort=p.model&amp;order=DESC">Model (Z - A)</option>
                                                </select>
                                            </div>

                                        </div> --}}

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end row -->

                    <!-- row -->
                    <div class="row">
                        <div class="col-12 grid-margin">
                            <div class="card card-white">
                                <div class="card-body slimscroll">
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead class="bg-light">
                                                <tr>
                                                    {{!-- <th scope="col">
                                                        <div class="custom-control custom-checkbox mb-0">
                                                            <input type="checkbox" class="form-check-input" id="exampleCheck">
                                                        </div>
                                                    </th> --}}
                                                    <th scope="col">NO.</th>
                                                    <th scope="col">Image</th>
                                                    <th scope="col">Name</th>
                                                     {{!-- <th scope="col">category</th> --}}
                                                    <th scope="col">Action</th>
                                                    {{!-- <th scope="col">Delete</th> --}}
                                                    <th scope="col">Edit</th>
                                                </tr>
                                            </thead>

                                            <tbody>
                                                {{#each categories}}
                                                <tr>
                                                    {{!-- <th scope="row">
                                                        <div class="custom-control custom-checkbox mb-0">
                                                            <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                                        </div>
                                                    </th> --}}
                                                    
                                                    <td>{{addOne @index}}</td>
                                                    
                                                    <td><img src="/images/{{imageUrl}}" style="height: 39px;" alt="..."></td>
                                                    <td>{{categoryName}}</td>

                                                  {{#if block}}
                                                    <td><button class="btn btn-danger" onclick="productUpdation('unlist','{{_id}}')">unlist</button></td>
                                                  
                                                    
                                                     {{else}}

                                                    <td><button class="btn btn-success" onclick="productUpdation('list','{{_id}}')"  >list</button></td>
                                                    
                                                     {{!-- <td> --}}
                                                     {{/if}}
                                                        {{!-- <a href="/admin/delete/{{_id}}" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete"><i class="far fa-trash-alt text-danger"></i>  </a>
                                                    </td> --}}
                                                    <td><a href="/admin/edit/{{_id}}" class="me-3" data-bs-toggle="tooltip" data-bs-placement="top" title="Edit"> <button class="btn btn-warning"  ><i class="far fa-edit text-primary" ></i></button>  </a>
                                                    </td> 
                                                    {{!-- <td>Electronics</td> --}}
                                                </tr>
                                                {{/each}}
                                                
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end row -->
                </div>

            </div>

          <script src="sweetalert2.all.min.js"></script>
              <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
<script>
    function productUpdation(productUpdate, id) {
        console.log("hiii", id);

        if (productUpdate === "list") {
            Swal.fire({
                title: 'Are you sure?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, unlisted it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        url: `/admin/list/${id}`,
                        method: "get",
                        success: (response) => {
                            Swal.fire(
                                'Category unlisted!',
                                ' Category has been unlisted.',
                                'success'
                            ).then(() => {
                                location.reload();
                            });
                        }
                    });
                }
            });
        } else {
            Swal.fire({
                title: 'Are you sure?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, listed it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        url: `/admin/unlist/${id}`,
                        method: "get",
                        success: (response) => {
                            Swal.fire(
                                'Category listed!',
                                ' Category has been listed.',
                                'success'
                            ).then(() => {
                                location.reload();
                            });
                        }
                    });
                }
            });
        }
    }
</script>
